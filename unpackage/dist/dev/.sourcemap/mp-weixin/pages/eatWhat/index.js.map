{"version":3,"sources":["uni-app:///main.js","webpack:///D:/code/keepBook/pages/eatWhat/index.vue?ec53","webpack:///D:/code/keepBook/pages/eatWhat/index.vue?8962","webpack:///D:/code/keepBook/pages/eatWhat/index.vue?1c04","webpack:///D:/code/keepBook/pages/eatWhat/index.vue?1346","uni-app:///pages/eatWhat/index.vue","webpack:///D:/code/keepBook/pages/eatWhat/index.vue?c1ff","webpack:///D:/code/keepBook/pages/eatWhat/index.vue?e9fe"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/eatWhat/index.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/eatWhat/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=c3691fd4&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/eatWhat/index.vue\"\nexport default component.exports","export * from \"-!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=c3691fd4&\"","var components\ntry {\n  components = {\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-input/u-input\" */ \"@/uni_modules/uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    uIcon: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uSlider: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-slider/u-slider\" */ \"@/uni_modules/uview-ui/components/u-slider/u-slider.vue\"\n      )\n    },\n    uCheckboxGroup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-checkbox-group/u-checkbox-group\" */ \"@/uni_modules/uview-ui/components/u-checkbox-group/u-checkbox-group.vue\"\n      )\n    },\n    uCheckbox: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-checkbox/u-checkbox\" */ \"@/uni_modules/uview-ui/components/u-checkbox/u-checkbox.vue\"\n      )\n    },\n    uLoadmore: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-loadmore/u-loadmore\" */ \"@/uni_modules/uview-ui/components/u-loadmore/u-loadmore.vue\"\n      )\n    },\n    uButton: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uPopup: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n    uImage: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-image/u-image\" */ \"@/uni_modules/uview-ui/components/u-image/u-image.vue\"\n      )\n    },\n    uNotify: function() {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-notify/u-notify\" */ \"@/uni_modules/uview-ui/components/u-notify/u-notify.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.popupShow = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.dinTypeShow = false\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"eat-what\">\r\n\t\t<view class=\"query-cond\">\r\n\t\t\t<view class=\"query-fancy\">\r\n\t\t\t\t<p class=\"label\">地点</p>\r\n\t\t\t\t<u-input v-model=\"locatVal\" @change=\"getLocation\" @focus=\"getLocation\" placeholder=\"Please enter your location\">\r\n\t\t\t\t\t<template slot=\"suffix\" @click=\"position\">\r\n\t\t\t\t\t\t<u-icon name=\"map-fill\" color=\"#19be6b\"></u-icon>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</u-input>\r\n\t\t\t\t<view class=\"fancy-con\" v-if=\"isRecord && locatVal\">\r\n\t\t\t\t\t<view class=\"record-item\" @click=\"selRecord(item)\" v-for=\"(item,index) in recordList\" :key=\"index\">\r\n\t\t\t\t\t\t<p class=\"title\">{{item.name}}</p>\r\n\t\t\t\t\t\t<p class=\"detail-address\">{{item.address}}</p>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"din-type\">\r\n\t\t\t\t<p class=\"label\">餐厅分类</p>\r\n\t\t\t\t<u-input v-model=\"dinType\" readonly border=\"surround\" color=\"#333\" placeholder=\"选择你中意的餐厅\"></u-input>\r\n\t\t\t\t<!-- 餐厅分类占位标签 可供点击使用 -->\r\n\t\t\t\t<view class=\"type-holder\" @click=\"openDinType\"></view>\r\n\t\t\t</view>\r\n\t\t\t<p class=\"label\">范围(米)</p>\r\n\t\t\t<u-slider v-model=\"range\" @change=\"rangeChange\" showValue step=\"200\" min=\"200\" max=\"3000\"></u-slider>\r\n\t\t</view>\r\n\t\t<view class=\"din-room\" v-if=\"dinRoomList.length\">\r\n\t\t\t<u-checkbox-group v-model=\"likeDinRoom\" placement=\"column\">\r\n\t\t\t\t<u-checkbox :customStyle=\"{marginBottom: '8px'}\" v-for=\"(item, index) in dinRoomList\"\r\n\t\t\t\t\t :key=\"index\" :label=\"item.name\" :name=\"item.id\">\r\n\t\t\t\t</u-checkbox>\r\n\t\t\t</u-checkbox-group>\r\n\t\t\t<u-loadmore v-if=\"dinRoomList.length\" :status=\"loadStatus\" @loadmore=\"onLoadmore\" loadmoreText=\"点击加载更多\" />\r\n\t\t</view>\r\n\t\t<view v-else class=\"not-data\">{{dinTypeNone?'暂无收录该分类的餐厅，换个试试~':''}}</view>\r\n\t\t<view class=\"btn\">\r\n\t\t\t<u-button type=\"error\" @click=\"popupShow=true;\" hairline plain shape=\"circle\">算了，不吃了</u-button>\r\n\t\t\t<u-button type=\"primary\" @click=\"submit\" shape=\"circle\">选择困难 退退 🤺</u-button>\r\n\t\t</view>\r\n\t\t<view class=\"cur-food\">\r\n\t\t\t<p class=\"din-name\">{{curDinRoom.name}}</p>\r\n\t\t\t<p class=\"din-address\">{{curDinRoom.address}}</p>\r\n\t\t</view>\r\n\t\t<!-- 离开时弹出层 -->\r\n\t\t<u-popup :show=\"popupShow\" mode=\"center\" @close=\"closePopup\">\r\n\t\t\t<u-image :src=\"src\" showLoading width=\"200px\" fade duration=\"450\" height=\"250px\" ></u-image>\r\n\t\t</u-popup>\r\n\t\t<!-- 餐厅分类弹出层 -->\r\n\t\t<u-popup :show=\"dinTypeShow\" class=\"din-type-popup\" mode=\"top\" :round=\"10\" \r\n\t\t\t@close=\"dinTypeShow=false\" :safeAreaInsetBottom=\"false\">\r\n\t\t\t<cascad-select :jsonData=\"mapSurround.dinTypes\" @selSubItems=\"getSelSubItems\" />\r\n\t\t</u-popup>\r\n\t\t<!-- 提示框 -->\r\n\t\t<u-notify ref=\"uNotify\"></u-notify>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport mapDataJson from '@/utils/surround.js';\r\n\timport cascadSelect from '@/components/cascadSelect.vue';\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tcascadSelect\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmapSurround: mapDataJson,\r\n\t\t\t\tlocatVal: '',\r\n\t\t\t\tdinType:\"\",\r\n\t\t\t\trange: 600, // 范围\r\n\t\t\t\trecordList: [],\r\n\t\t\t\tisRecord: false,\r\n\t\t\t\tdinTypeShow:false,\r\n\t\t\t\tcurLocation:'', // 当前定位坐标\r\n\t\t\t\tdinRoomList:[], // 餐厅列表\r\n\t\t\t\tlikeDinRoom:[],\r\n\t\t\t\tloadStatus:'loadmore', // 加载更多状态 loading / nomore\r\n\t\t\t\tcurPage:1,\r\n\t\t\t\tpoiTypes:['050000'], // 附近POI类型\r\n\t\t\t\tcurDinRoom:{},\r\n\t\t\t\tpopupShow:false,\r\n\t\t\t\tlocalTimerId:null,\r\n\t\t\t\tdinTypeNone:false, // 当前搜索的分类暂无数据\r\n\t\t\t\tsrc:'https://s1.ax1x.com/2022/08/17/v0vGFJ.jpg',\r\n\t\t\t\tbaseUrl:'https://restapi.amap.com/v3',\r\n\t\t\t\tkey:'d86bbefe9b11825f0e015dc4dae2eac0', // 请求key\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tposition(){\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:'http://pv.sohu.com/cityjson?ie=utf-8',\r\n\t\t\t\t\tmethod:'GET',\r\n\t\t\t\t\tsuccess:res=>{\r\n\t\t\t\t\t\t// console.log('res',res.data.returnCitySN)\r\n\t\t\t\t\t\tlet returnCitySN = res.data;\r\n\t\t\t\t\t\tconsole.log(JSON.parse(returnCitySN.replace(returnCitySN.split('{')[0],'').replace(';','')));\r\n\t\t\t\t\t\tlet ipconfigObj = JSON.parse(returnCitySN.replace(returnCitySN.split('{')[0],'').replace(';',''));\r\n\t\t\t\t\t\tthis.locatVal = ipconfigObj.cname;\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl:`${this.baseUrl}/ip?key=${this.key}&ip=${ipconfigObj.cip}`,\r\n\t\t\t\t\t\t\tmethod:'POST',\r\n\t\t\t\t\t\t\tsuccess:resp=>{\r\n\t\t\t\t\t\t\t\tconsole.log('resp',resp)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$refs.uNotify.show({\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\tmessage:\"当前定位信息可能存在误差~\",\r\n\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\tcolor:'#fff',\r\n\t\t\t\t\tduration: 1000 * 2,\r\n\t\t\t\t\tbgColor:'#71d5a1'\r\n\t\t\t  })\r\n\t\t\t},\r\n\t\t\t// 获取附近地址\r\n\t\t\tgetLocation() {\r\n\t\t\t\tif(!this.locatVal) return;\r\n\t\t\t\t// 简单的防抖，首先先清除上一次的计时器\r\n\t\t\t\tclearTimeout(this.localTimerId);\r\n\t\t\t\tthis.localTimerId = setTimeout(()=>{\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: `${this.baseUrl}/place/text?key=${this.key}&keywords=${this.locatVal}`,\r\n\t\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tif (res.data.pois.length) {\r\n\t\t\t\t\t\t\t\tthis.isRecord = true;\r\n\t\t\t\t\t\t\t\tthis.recordList = res.data.pois.map(item => {\r\n\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\t\t\t\t\taddress: item.pname + item.cityname + item.adname + item.address,\r\n\t\t\t\t\t\t\t\t\t\tlocation: item.location,\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t},200);\r\n\t\t\t},\r\n\t\t\t// 选择某一个地理位置\r\n\t\t\tselRecord(val){\r\n\t\t\t\tthis.locatVal = val.name;\r\n\t\t\t\tthis.isRecord = false;\r\n\t\t\t\tthis.curLocation = val.location;\r\n\t\t\t\t// 先清空之前的餐厅数据\r\n\t\t\t\tthis.likeDinRoom = [];\r\n\t\t\t\tthis.getDinRoom();\r\n\t\t\t},\r\n\t\t\topenDinType(){\r\n\t\t\t\tif(!this.locatVal.length) {\r\n\t\t\t\t\tthis.$refs.uNotify.show({\r\n\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\tmessage:\"请先输入定位地点~\",\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\tcolor:'#fff',\r\n\t\t\t\t\t\tduration: 1000 * 2,\r\n\t\t\t\t\t\tbgColor:'#fcbd71'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t};\r\n\t\t\t\tthis.dinTypeShow = true;\r\n\t\t\t},\r\n\t\t\t// 选择范围\r\n\t\t\trangeChange(val){\r\n\t\t\t\tthis.range = val;\r\n\t\t\t\tthis.dinRoomList = [];\r\n\t\t\t\tif(this.curLocation && this.poiTypes){\r\n\t\t\t\t\tthis.getDinRoom();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取附近餐厅\r\n\t\t\tgetDinRoom(){\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `${this.baseUrl}/place/around?key=${this.key}&location=${this.curLocation}&types=${this.poiTypes.join('|')}&radius=${this.range}&offset=21&page=${this.curPage}`,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.loadStatus = 'nomore';\r\n\t\t\t\t\t\tif (res.data.pois.length) {\r\n\t\t\t\t\t\t\t// 如果有分页的话合并之前的数据\r\n\t\t\t\t\t\t\tlet dinRoom = res.data.pois.map(item=>{\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\t\t\t\taddress: item.adname + item.address,\r\n\t\t\t\t\t\t\t\t\tid:item.id\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthis.dinRoomList = this.dinRoomList.concat(dinRoom);\r\n\t\t\t\t\t\t\tlet likeDin = res.data.pois.map(it=>it.id);\r\n\t\t\t\t\t\t\tthis.likeDinRoom = this.likeDinRoom.concat(likeDin);\r\n\t\t\t\t\t\t\t// 判断如果当前数据等于20条的时候说明有可能还存在分页数据\r\n\t\t\t\t\t\t\tif(res.data.pois.length>=20){\r\n\t\t\t\t\t\t\t\tthis.loadStatus = 'loadmore';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tthis.dinTypeNone = true;\r\n\t\t\t\t\t\t\tthis.dinRoomList = res.data.pois.map(item=>{\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\t\t\t\taddress: item.adname + item.address,\r\n\t\t\t\t\t\t\t\t\tid:item.id\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 加载更多\r\n\t\t\tonLoadmore(){\r\n\t\t\t\tthis.loadStatus = 'loading';\r\n\t\t\t\tthis.curPage++;\r\n\t\t\t\tthis.getDinRoom();\r\n\t\t\t},\r\n\t\t\tsubmit(){\r\n\t\t\t\tif(!this.likeDinRoom.length){\r\n\t\t\t\t\tthis.$refs.uNotify.show({\r\n\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\tmessage:\"你还没有选择你喜欢的餐厅呢~\",\r\n\t\t\t\t\t\ttype: 'warning',\r\n\t\t\t\t\t\tcolor:'#fff',\r\n\t\t\t\t\t\tduration: 1000 * 2,\r\n\t\t\t\t\t\tbgColor:'#fcbd71'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tlet random;\r\n\t\t\t\tlet timerId = setInterval(()=>{\r\n\t\t\t\t\trandom = Math.floor(Math.random() * this.likeDinRoom.length);\r\n\t\t\t\t\tthis.curDinRoom = this.dinRoomList[random];\r\n\t\t\t\t},50);\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tclearInterval(timerId)\r\n\t\t\t\t},2000);\r\n\t\t\t},\r\n\t\t\tclosePopup(){\r\n\t\t\t\tthis.popupShow = false;\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t},\r\n\t\t\tgetSelSubItems(val){\r\n\t\t\t\tconsole.log('传过来的值',val);\r\n\t\t\t\tthis.dinTypeShow = false;\r\n\t\t\t\tthis.dinType = val.map(it=>it.key).join('、');\r\n\t\t\t\tthis.poiTypes = val.map(it=>it.code);\r\n\t\t\t\tthis.getDinRoom();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.eat-what {\r\n\t\tpadding: 0 20rpx;\r\n\t\tbox-sizing: border-box;\r\n\r\n\t\t.query-cond {\r\n\t\t\t.query-fancy {\r\n\t\t\t\tmargin-bottom: 40rpx;\r\n\r\n\t\t\t\t.fancy-con {\r\n\t\t\t\t\tmax-height: 400rpx;\r\n\t\t\t\t\tbackground-color: #f4f4f5;\r\n\t\t\t\t\tpadding: 10rpx 20rpx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\toverflow-y: scroll;\r\n\r\n\t\t\t\t\t.record-item {\r\n\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\theight: 78rpx;\r\n\t\t\t\t\t\tcolor: #333;\r\n\r\n\t\t\t\t\t\t.title {\r\n\t\t\t\t\t\t\tfont-size: 30rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.detail-address {\r\n\t\t\t\t\t\t\tline-height: 32rpx;\r\n\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t.din-type {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tmargin-bottom: 40rpx;\r\n\t\t\t\t.type-holder {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 70rpx;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\ttop: 49rpx;\r\n\t\t\t\t\tz-index: 10;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.label {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tmargin-bottom: 10rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t.din-room {\r\n\t\t\tmargin-top: 40rpx;\r\n\t\t\tpadding-left: 20rpx;\r\n\t\t\tmax-height: 600rpx;\r\n\t\t\toverflow-y: scroll;\r\n\t\t}\r\n\t\t.not-data {\r\n\t\t\ttext-align: center;\r\n\t\t\tmargin-top: 100rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\r\n\t\t.btn {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 220rpx;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\r\n\t\t\t.u-button {\r\n\t\t\t\twidth: 32%;\r\n\r\n\t\t\t\t&:nth-child(2) {\r\n\t\t\t\t\twidth: 58%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.cur-food {\r\n\t\t\theight: 200rpx;\r\n\t\t\tposition: absolute;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\ttext-align: center;\r\n\t\t\t.din-name {\r\n\t\t\t\tfont-size: 42rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t\t.din-address {\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tline-height: 50rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t\t/deep/.u-popup__content {\r\n\t\t\theight: 250px;\r\n\t\t}\r\n\t\t.din-type-popup {\r\n\t\t\theight: 500rpx;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1662218249624\n      var cssReload = require(\"D:/LenovoSoftstore/Install/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}